language: python

python:
  - 2.6
  - 2.7
  
env:
  global:
    - secure: ZxjlJV/lSzj1VjlLygFlXf89613x09U/SuBerB9ZjIqcFs19zC+6JywyZ3El/vJ5nbZrBD0qc5p5fVmMwFpbhsCri7Tp8ra4iZDWUWlA8DIxjzdLTfpddrWiC4t24RIl5xyv7nEcshZIOS0rxe/mgkWXEEH1+xIhj+09GLmzbWDf7/9DI05yzmBc6HkiFTaf9RbfISFh1uhfvUx8wqizU02NWO5MtFfH5ru+E1xarILI+IDwb+xIUncEtCpwkFJ0WE7sprW3T4bGPZUAHV94XFVqs2TVgUz1w5SCc23ivwN8G0Cjz0hQ/UWC+eTtI0KcY9zKdnbtnYOVMHTRXwXhjA== 

install:
  - pip install -r requirements.txt

before_script:
  # Make folders for the reports
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  - echo $test

script:
  - nosetests test.py --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - which python && coverage run --branch test.py
  - which python && coverage xml -o shippable/codecoverage/coverage.xml test.py

notifications:
  - email: false

cache: true

